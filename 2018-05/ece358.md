# ECE 358: Computer Networks

Professor: Albert Wasef

## Chapter 1: Introduction

<!-- 2018 May 02 -->

- The internet consists of:
  - Hosts (end systems), running network apps
  - Communication links (fiber, copper, radio, satellite)
  - Packet switches (routers and switches)

- Protocols control the sending and receiving of messages
  - Define format, order of messages, actions taken
- Internet standards include:
  - RFC: Request for comments
  - IETF: Internet Engineering Task Force

- Network structure:
  - Edge: Hosts (clients and servers)
  - Access networks, physical media: Communication links
  - Network core: Interconnected routers. The "network of networks".

- Types of access nets:
  - DSL
  - Cable

- DSL: Digital subscriber line.
  - Using existing telephone lines to connect to the internet.
  - A DSLAM (DSL Access Multiplexer) is installed at the edge of the telephone
    network
  - A splitter at the home decides between a DSL modem and a telephone
  - Transmission rates: 2.5 Mbps upstream, 24 Mbps downstream
    - This asymmetry is mainly economics (customers usually want faster
      downstream, so more bandwidth is allocated)

- Cable network
  - Uses *frequency division multiplexing* -- different channels are
    transmitted in different frequency bands.
  - HFC: Hybrid fiber coax

(part 2)

- Wireless access networks
  - Wireless LAN: within building. 802.11b/g (wifi) is 54 Mbps
  - Wide-area wireless: covers a larger area. 3G, 4G are LTE

- How transmission happens
  - Host sends packets of length L (bits)
  - Transmits packet into access network at transmission rate R (bits/sec)
  - Packet transmission delay = L / R (sec)
  - Time to transmit one bit = 1 / R (sec / bit)

- Physical media
  - Guided vs. unguided
    - Guided media: Solid, like copper, fiber, or coaxial cable.
    - Unguided media: Radio waves.
  - Twisted pair: Two insulated copper wires that are twisted around each
    other to minimize interference.
    - Cat5: 100 Mbps, 1 Gbps (typically blue)
    - Cat6: 10 Gbps (typically yellow)
    - Can only provide a single channel due to the material that's used.
  - Coaxial cable
    - Two concentric copper conductors
    - Broadband
  - Fiber optic cable
    - Glass fiber carrying light
    - Secure (can't tap into it) (?)
    - Low error rate
  - Radio
    - Propagation is affected by environment
      - Reflection
      - Obstruction
      - Interference
    - Needs line of sight.
    - Types:
      - Terrestrial microwave: up to 45 Mbps
      - LAN/wifi: 11 Mbps, 54 Mbps
      - Wide-area (e.g. cellular): a few Mbps
      - Satellite: Kbps to 45 Mbps
        - 280 ms end-to-end delay

- The network core
  - Packet switching
    - "Store and forward": The entire packet must arrive before it can be
      transmitted to the next link.
      - This implies that each link introduces an additional packet transmission
      delay.
    - Routing and forwarding
      - [Routing] is determining the route that should be taken by packets
      - [Forwarding] is actually forwarding the packets
  - Circuit switching
    - You actually get a physical circuit to the other machine
    - Like traditional telephone networks
    - FDM: Frequency Division Multiplexing
    - TDM: Time Division Multiplexing

<!-- 2018 May 4 -->

- How are access net interconnected?
  - Connect every access net to every other access net. O(nÂ²), doesn't
    web-scale
  - In reality:
    - Tier-1 ISPs are connected via IXPs (Internet Exchange Points) and
      peering links
    - Regional nets group together Tier-1 ISPs (e.g. Rogers, Bell)
    - Also companies create their own CDNs that connect directly to access nets
    - So really the internet is a poset

- Loss and delay
  - If the arrival rate exceeds the output link capacity, then packets will
    queue up and this introduces a delay, which means no arbitrage for you
    tonight.
  - Four sources of packet delay: 
    - `d_nodal = d_proc + d_queue + d_trans + d_prop`
    - `d_proc`: Processing delay (software or ASICs on the node); usu. < 1ms
    - `d_queue`: Queueing delay
    - `d_trans`: Transmission delay. `L/R` where L: packet length; R: link
      bandwidth
    - `d_prop`: Propagation delay. `d/s` where d: length of wire, s:
      propagation speed (~(2/3)c)
  - Queueing delay:
    - let R = link bandwith
    - and L = packet length
    - and a = average packet arrival rate in
    - The queueing delay increases as La/R goes from 0 to 1, then becomes
      unbounded.
  - In reality, packets are dropped when the queue is full.

- In traceroute, `* * *` indicates that a router isn't replying. (It might
  still be working, but ignoring you.)

- Throughput
  - Rate at which user receives useful data.
  - Instantaneous vs. Average.
  - Example: Consider two pipes with throughputs Rs and Rc. Then end-to-end
    throughput is min(Rs, Rc). The slower pipe is the **bottleneck link**.
  - If n users are using a pipe, then it has effective throughput R/n.

<!-- 2018 May 7 -->

- OSI model: Layered model of internet.
  - Physical
  - Link
  - Network
  - Transport
  - (Session)
  - (Presentation)
  - Application
  - Layers in parens are fake, part of OSI model which was invented when people
    had no idea what they were doing

- Encapsulation / Decapsulation
  - It's when you have nested boxes, unwrap some, and rebox in others
  -       M: message
  -     HtM: segment
  -   HnHtM: datagram
  - HlHnHtM: frame

- The source and destination encapsulate all five layers
- A switch implements only Physical and Link
- A router implements only Physical, Link, and Network

- Network security
  - Internet was not originally designed with security in mind.
  - Cat-and-mouse game between hackers and internet designers.

- Malware
  - Virus: Executed self-replication infection
  - Worm: Passively received self-replication infection
  - Spyware Malware: Record and upload input
  - Infected hosts can be part of a botnet

## Chapter 2: Application Layer

<!-- 2018 May 7 -->

- When you write a network app, you only have to write the application layer.

- Application architectures:
  - client/server
  - peer to peer

- Socket
  - Like a pipe implemented at the transport layer and under

- Application layer protocols
  - Defines:
    - Types of messages
    - Message syntax
    - Message semantics
    - Rules for sending messages
  - Can be open or proprietary

- Transport service requirements
  - Data integrity
  - Throughput
  - Timing
  - Security
- Look at those four things for common apps (EXAM, previous midterm)

- Securing TCP: use SSL at the application layer

<!-- 2018 May 11 -->

- An RTT is a RoundTrip Time

- HTTP persistence
  - Non-persistent: Each TCP connection is closed after one request.
  - Persistent: Multiple objects sent over a single TCP connection.

- HTTP Delay Estimation interactive is incorrect with pipelining?

- HTTP request format:
  - Request line
    - method sp URL sp version CRLF
  - Header lines
    - header-field-name sp value CRLF
    - CRLF
  - Body
    - entity body

- Uploading form input:
  - POST: input uploaded to server in entity body
  - GET: input encoded at end of URL

- HTTP methods:
  - HTTP/1.0: GET, POST, HEAD (don't include body)
  - HTTP/1.1: GET, POST, HEAD, PUT (upload file), DELETE (delete file)

- HTTP headers:
  - Date: Time of sending the response.
  - Last-Modified: Mtime
  - Content-Length: in bytes

- Cookies:
  - Four components:
    - Cookie header line of response
    - Cookie header line in subsequent requests
    - Cookie file kept browser-side
    - Database kept website-side

- Web caching
  - Cache acts as both client and server
  - Example: 97.4% utilization; 4.5 sec total delay
    - 100x access link rate makes it 0.974% utilization; 2 sec total delay
    - Local web cache with 0.4 hit rate: 1.29 total delay

<!-- 2018 May 14 -->

- DNS
  - Domain name system.
  - A hierarchy of **name servers**, forming a **distributed database**.
  - Provides services:
    - Hostname to IP resolution
    - Host aliasing
    - Mail server aliasing
    - Load distribution (one name, many IPs)
  - **Root name servers** are contacted if a local name server canont resolve.
    - They contact the **authoritative name server** for that name.
  - TLD (Top-level domain) servers: For TLDs.
    - Network Solutions maintains the .com TLD server.
    - Educause does .edu.
  - Authoritative name server: Organization's own DNS servers.
  - Local name server: "default name server". Has cache.
  - Resolution example
    - Iterated query: "I don't know this, but ask this server"
    - Recursive query: "I don't know this, but I'll get this for you"
      - Heavy load at higher levels
    - Typically, flow is:
      - Requesting host
      - Local DNS server
      - Root DNS server
      - TLD DNS server
      - Authoritative DNS server
  - Caching
    - TTL: Time to live
    - Can be out of date
    - RFC 2136: Update/notify mechanism proposed by IETF
  - RR: Resource records
    - (name, value, type, ttl)
    - Types:
      - A: Authoritative. name is hostname, value is IP address
      - CNAME: Canonical name. name is alias name, value is canonical name
      - NS: Nameserver. name is domain, value is authoritative name server
      - MX: Mailserver. name is domain, value is mailserver
  - DNS protocol
    - identification; flags
    - # questions; # answer RRs; # authority RRs; # additional RRs
    - Questions;   Answers;      Authority;       Additional info
  - Attacking DNS
    - DDoS on DNS:
      - Bombard root server with traffic.
        - Not successful so far due to traffic filtering, root server bypass
      - Bombard TLD servers: "Potentially more dangerous."
    - Redirect attacks:
      - Man in the middle
      - DNS poisoning (bogus replies which are cached)
    - Exploit DNS for DDoS:
      - Send queries with spoofed source address -> target ip
      - Requires leverage

## Chapter 3

- Transport layers and protocols
  - Transport layer: Layer below the application
  - Provides logical end-to-end transport as a service to the application
  - Vs. network layer
    - Network layer is between hosts.
    - Transport layer is between processes. A host can have multiple processes.
  - Multiplexing and demultiplexing
    - at sender: multiplexing to combine multiple sockets into one stream
    - at receeiver: demultiplexing to split it apart again
